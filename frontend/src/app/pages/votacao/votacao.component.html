<app-alert
    [message]="alertMessage"
    [type]="alertType"
    [duration]="3000">
</app-alert>    

<div class="container mt-5">
    <h2 class="text-center mb-4">Registre seu Voto</h2>

    <form #formVoto="ngForm" (ngSubmit)="registrarVoto()" novalidate>
        <div class="mb-3">
        <label class="form-label">Sessão de Votação</label>
        <select class="form-select" required [(ngModel)]="sessaoId" name="sessaoId" [disabled]="sessoesAtivas.length == 0">
            <option [ngValue]="null" disabled selected>Selecione uma pauta</option>
            <option *ngFor="let s of sessoesAtivas" [value]="s.id">
            {{ s.pauta?.titulo }}
            </option>
        </select>
        </div>

        <div class="mb-3">
        <label class="form-label">Associado</label>
        <select class="form-select" required [(ngModel)]="associadoId" name="associadoId" [disabled]="associados.length == 0">
            <option [ngValue]="null" disabled selected>Selecione uma pauta</option>
            <option *ngFor="let a of associados" [value]="a.id">{{ a.nome }}</option>
        </select>
        </div>

        <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-success w-45" (click)="setVoto('SIM')">Sim</button>
        <button type="button" class="btn btn-danger w-45" (click)="setVoto('NAO')">Não</button>
        </div>

        <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary" [disabled]="!voto || !sessaoId || !associadoId">
            Confirmar Voto
        </button>
        </div>
    </form>
</div>
